<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>jej - la boule clément</title>
        <link rel="icon" type="image/x-icon" href="../img/jej.png">
        <link href="../css/style.css" rel="stylesheet">
        <link href="../css/tables.css" rel="stylesheet">
        <link href="la-boule-clement-web/TemplateData/style.css" rel="stylesheet">

        <!-- Initialisation de Sentry -->
        <script
            src="https://js.sentry-cdn.com/7ac034c5bbd378a354f1bbca6c11dff7.min.js"
            crossorigin="anonymous"
        ></script>
        <script
            src="https://browser.sentry-cdn.com/7.112.1/bundle.tracing.replay.feedback.min.js"
            integrity="sha384-MVg62ETpDguyyv7fpqWHeT8uUghhNkJYTbMbCQhds/SaS8MjekWVRdUYXv0SnrcX"
            crossorigin="anonymous"
        ></script>
        
        <script> // pour l'ajouter dans l'onglet "User Feedback"
            Sentry.init({
                dsn: "https://7ac034c5bbd378a354f1bbca6c11dff7@o4507037759111168.ingest.us.sentry.io/4507037763895296",
                integrations: [
                    Sentry.feedbackIntegration({
                    colorScheme: "system",
                    }),
                ],
            });
        </script>

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900&display=swap" rel="stylesheet">

    </head>
    <body>
        <a style="font-size: 0.9em"; href="../index.html"> < retour à l'accueil</a>
        
        <nav>
            <div class="nav-container">
                <a href="../a-propos.html"><span>à propos de jej</span></a>
                <a href="../dessins.html"><span>dessins</span></a>
                <a href="../videos.html"><span>vidéos</span></a>
                <a href="../images.html"><span>images</span></a>
                <a href="../textes.html"><span>textes</span></a>
                <a href="../jeux.html"><span>jeux</span></a>
                <a href="../postits.html"><span>post-its</span></a>
                <a href="../remerciements.html"><span>special thanks</span></a>
            </div>
        </nav>

        <header>
            <a href="#">
                <h1>La boule Clément</h1>
            </a>
        </header>

        <main>


        <p><strong style="font-size: 1.1em;">si la version web a un problème de chargement, le jeu est jouable en standalone <a href="la boule clément.zip">ici</a> </strong></p>
        <p>ok c'est la boule clément</p>
        <p>le but est d'attraper les douze bricoles le plus vite possible en déplaçant la boule clément avec les touches zqsd, on peut aussi réinit avec entrée</p>
        <p>une feature assez sympa c'est le tableau sur la droite :) à la fin de ta run si tu as été rapide, il y a une touche pour envoyer ton score afin qu'il aille dans le tableau, qui se réaffiche une fois par jour. bon courage pour atteindre le sommet !</p>
        <span id="erreur" style="font-size: 1em; color: red; display: none;"><strong>
          <p><u>ATTENTION : le module d'envoi des highscores n'a pas pu s'importer.</u> il y a deux causes possibles :</p>
            <ol>
              <li>ou bien c'est ton bloqueur de pub qui a détecté et bloqué le module</li>
              <li>ou bien tu es sur mobile, de toute manière le jeu se joue pas sur mobile.</li>
            </ol>
          <p></p>
          <p>donc si tu veux t'enregistrer dans les highscores il faudra désactiver le bloqueur et recharger la page (promis y a zéro pub sur le site mdr), sinon c'est pas grave tu peux quand même profiter du jeu ^^</p>
          <br><br>
        </strong></span>
        
        <div id="unity-container" class="unity-desktop">
          <div class="flex-container" style="display: flex; gap: 5px;">
            <canvas id="unity-canvas"></canvas>
            
            <table style="margin-top: 0; text-align: center;">
              <!-- si activé, rajouter "left: -50px" au #unity-loading-bar de style.css -->
              <thead>
                <th>Nom</th>
                <th>Score</th>
              </thead>
              <tbody>
                <tr> <td>zac</td> <td>5.05</td> </tr>
                <tr> <td>nicolas</td> <td>5.27</td> </tr>
                <tr> <td>numa</td> <td>6.30</td> </tr>
                <tr> <td>théo</td> <td>6.65</td> </tr>
                <tr> <td>césar</td> <td>7.88</td> </tr>
              </tbody>
            </table>
          </div>

            <div id="unity-loading-bar">
              <div id="unity-logo"></div>
              <div id="unity-progress-bar-empty">
                <div id="unity-progress-bar-full"></div>
              </div>
            </div>
            <div id="unity-footer">
              <div id="unity-webgl-logo"></div>
              <div id="unity-fullscreen-button"></div>
              <div id="unity-build-title">La boule Clément</div>
            </div>
          </div>
          <script>

            var erreur = false;
            if (typeof Sentry === 'undefined') {
                document.getElementById("erreur").style.display = 'inline';
                var erreur = true;
            }

            /** Fonction appelée par Unity, qui sauvegarde le score dans Sentry. */
            function sauvegarderScore(timer) {
              if (erreur) {
                alert("feature bloquée à cause de ton bloqueur dsl cf texte en rouge")
              } else {
                let nom = prompt("Score de " + timer + " secondes ! Entrez votre nom :")
                while (!nom){
                  nom = prompt("Entrez votre nom j'ai dit ohlala :")
                }

                const eventId = Sentry.captureMessage("User Feedback");
                const userFeedback = {
                    event_id: eventId,
                    name: "Score",
                    comments: `${nom} / ${timer}`,
                };
                console.log(userFeedback)
                Sentry.captureUserFeedback(userFeedback);
                setTimeout(function(){
                    location.reload()
                }, 1000);
              }
            }

            var buildUrl = "la-boule-clement-web/Build";
            var loaderUrl = buildUrl + "/la-boule-clement-web.loader.js";
            var config = {
              dataUrl: buildUrl + "/la-boule-clement-web.data.unityweb",
              frameworkUrl: buildUrl + "/la-boule-clement-web.framework.js.unityweb",
              codeUrl: buildUrl + "/la-boule-clement-web.wasm.unityweb",
              streamingAssetsUrl: "StreamingAssets",
              companyName: "Smoking Borzoi Studios",
              productName: "La boule Clément",
              productVersion: "1.3",
            };
      
            var container = document.querySelector("#unity-container");
            var canvas = document.querySelector("#unity-canvas");
            var loadingBar = document.querySelector("#unity-loading-bar");
            var progressBarFull = document.querySelector("#unity-progress-bar-full");
            var fullscreenButton = document.querySelector("#unity-fullscreen-button");
      
            if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {
              container.className = "unity-mobile";
              config.devicePixelRatio = 1;
            } else {
              canvas.style.width = "800px";
              canvas.style.height = "500px";
            }
            loadingBar.style.display = "block";
      
            var script = document.createElement("script");
            script.src = loaderUrl;
            script.onload = () => {
              createUnityInstance(canvas, config, (progress) => {
                progressBarFull.style.width = 100 * progress + "%";
              }).then((unityInstance) => {
                loadingBar.style.display = "none";
                fullscreenButton.onclick = () => {
                  unityInstance.SetFullscreen(1);
                };
              }).catch((message) => {
                alert(message);
              });
            };
            document.body.appendChild(script);
          </script>

        </main>

        <footer>
            ___________________________
            <p ><a href="https://www.youtube.com/@jej888" target="_blank">youtube</a> - 
            <a href="https://twitter.com/chibre_optique" target="_blank">twitter</a> - 
            <a href="https://www.instagram.com/nwaar888/" target="_blank">instagram</a> - 
            mail : kariassoumani [at] hotmail.fr
            </p>
            <p>© smoking borzoi studios 2k24</p>
        </footer> 

    </body>
</html>
